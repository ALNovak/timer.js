!function(){"use strict";var a=function(a){function b(b){var c=this;return+b||o.duration?(b*=1e3,m&&"started"===o.status?this:(o.duration=b=0===o.duration?b:o.duration,m=setTimeout(function(){e.call(c)},b),o.start=+new Date,a.ontick!==k.ontick&&(n=setInterval(function(){a.ontick.call(c,g())},1e3*+a.tick)),o.status="started",a.onstart.call(this),this)):e.call(c)}function c(){return j(!0),o.status="stopped",a.onstop.call(this),this}function d(){return o.duration=o.duration-(+new Date-o.start),j(!1),o.status="paused",a.onpause.call(this),this}function e(){return j(!0),o.status="finished",a.onend.call(this),this}function f(){return o.status}function g(){return"started"===o.status?Math.round((o.duration-(+new Date-o.start))/1e3):0}function h(b,c){return"string"==typeof b&&"function"==typeof c?(0!==b.indexOf("on")&&(b="on"+b),a.hasOwnProperty(b)&&(a[b]=c),this):void 0}function i(b){return"string"==typeof b?(b=b.toLowerCase(),"all"===b?a=k:(0!==b.indexOf("on")&&(b="on"+b),a.hasOwnProperty(b)&&(a[b]=k[b])),this):void 0}function j(a){clearTimeout(m),clearInterval(n),a&&(o.duration=0)}var k={tick:1,onstart:function(){},onstop:function(){},onpause:function(){},onend:function(){},ontick:function(){}};if("object"==typeof a)for(var l in k)a.hasOwnProperty(l)||(a[l]=k[l]);else a=k;var m,n,o={id:+new Date,duration:0,status:"initialized",start:0};return{start:b,stop:c,pause:d,on:h,off:i,getStatus:f,getDuration:g}},b=this;"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=a),exports.Timer=a):b.Timer=a}.call(this);