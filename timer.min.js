!function(){"use strict";var a=function(a){function b(a,b){var c;b=b||{};for(c in a)b.hasOwnProperty(c)||(b[c]=a[c]);return b}function c(b){var c=this;return+b||p.duration?(b*=1e3,n&&"started"===p.status?this:(p.duration=b=0===p.duration?b:p.duration,n=setTimeout(function(){f.call(c)},b),p.start=+new Date,a.ontick!==m.ontick&&(o=setInterval(function(){a.ontick.call(c,h())},1e3*+a.tick)),p.status="started",a.onstart.call(this),this)):f.call(c)}function d(){return l(!0),p.status="stopped",a.onstop.call(this),this}function e(){return p.duration=p.duration-(+new Date-p.start),l(!1),p.status="paused",a.onpause.call(this),this}function f(){return l(!0),p.status="finished",a.onend.call(this),this}function g(){return p.status}function h(){return"started"===p.status?Math.round((p.duration-(+new Date-p.start))/1e3):0}function i(b,c){return"string"==typeof b&&"function"==typeof c?(0!==b.indexOf("on")&&(b="on"+b),a.hasOwnProperty(b)&&(a[b]=c),this):void 0}function j(b){return"string"==typeof b?(b=b.toLowerCase(),"all"===b?a=m:(0!==b.indexOf("on")&&(b="on"+b),a.hasOwnProperty(b)&&(a[b]=m[b])),this):void 0}function k(c){return a=b(a,c),this}function l(a){clearTimeout(n),clearInterval(o),a&&(p.duration=0)}var m={tick:1,onstart:function(){},onstop:function(){},onpause:function(){},onend:function(){},ontick:function(){}};a=b(m,a);var n,o,p={id:+new Date,duration:0,status:"initialized",start:0};return{start:c,stop:d,pause:e,on:i,off:j,options:k,getStatus:g,getDuration:h}},b=this;"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=a),exports.Timer=a):b.Timer=a}.call(this);